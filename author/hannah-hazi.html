<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hannah Clare Wray Hazi | Articles by Hannah Hazi</title>
    <link rel="shortcut icon" type="image/png" href="../favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
    <link rel="stylesheet" href="../theme/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../theme/css/pygments.css" type="text/css" />
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="Hannah Hazi" />
</head>
<body>
    <header>
        <nav>
            <ul>

                <li class="ephemeral selected"><a href="../author/hannah-hazi.html">Hannah Hazi</a></li>
                <li><a href="../">Home</a></li>
                <li><a href="../pages/about.html">About Me</a></li>
                <li><a href="../pages/talks.html">Talks</a></li>
                <li><a href="https://github.com/raspberrycheesecake">GitHub</a></li>
                <li><a href="mailto:hannah.hazi@cantab.net">Contact Me</a></li>
                <li><a href="https://uk.linkedin.com/in/hannah-hazi-9b985a84">LinkedIn</a></li>
                <li><a href="../archives">Archives</a></li>
            </ul>
        </nav>
        <div class="header_box">
            <h1><a href="../">Hannah Clare Wray Hazi</a></h1>
            <h2>I love making beautiful things.</h2>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Sep 01, 2025</h4>

            <article class="post">
                <h2 class="title">
                    <a href="../voyager-spacecraft.html" rel="bookmark" title="Permanent Link to &quot;Happy Birthday, Voyager&quot;">Happy Birthday, Voyager</a>
                </h2>

                
                

                <p><img alt="Image of the Voyager 2 spacecraft passing Saturn" src="../images/voyager.png"></p>
<p><a href="https://youtu.be/9DlzCyuHWeY">Watch the video on YouTube</a></p>
<p>This year marks the 48th anniversary of the launch of the Voyager 1 and Voyager 2 probes. To celebrate their epic journey through the solar system and to honour the people behind the spacecraft - especially the software engineers - I made this little video. Hat tip to open-source tool <a href="https://kdenlive.org/">kdenlive</a> which I used to edit it. </p>
<p>I particularly recommend the BBC documentary 'Voyage to the Final Frontier', which goes into detail on the problems the engineers had to contend with, and how they managed to fix them from so far away. The song is 'Olalla' by Blanco White.</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="../voyager-spacecraft.html">posted at 00:00</a>
                    &nbsp;&middot;&nbsp;<a href="../category/videos.html" rel="tag">videos</a>
                    &nbsp;&middot;
                    &nbsp;<a href="../tag/video.html" class="tags">video</a>
                    &nbsp;<a href="../tag/space-flight.html" class="tags">space flight</a>
                    &nbsp;<a href="../tag/software.html" class="tags">software</a>
                </div>
            </article>            <h4 class="date">Jun 12, 2025</h4>

            <article class="post">
                <h2 class="title">
                    <a href="../cargo-cult-agile.html" rel="bookmark" title="Permanent Link to &quot;Cargo Cult Agile&quot;">Cargo Cult Agile</a>
                </h2>

                
                

                <p><img alt="Learning Agile cover" src="../images/learning-agile-coverpage.jpeg"></p>
<p>I remember reading this one a while ago when I first acted as Scrum Master for an Agile team and finding it really useful. I thought I'd revisit it to see how it holds up.</p>
<h1>Overall Impressions</h1>
<p>I'm still impressed by the breadth and depth of coverage the book manages - while keeping your attention with frequent vivid stories depicting how teams trying to use Agile can trip up or experience problems. It manages to give a quick but thorough run-down of general Agile principles and then a whistle-stop tour through the most commonly used Agile methodologies, comparing them and examining what the experience of teams using these techniques might look like, day to day. I think the book was a great grounding for me when I was new to the world of Agile, but I also appreciate the insights I can glean from it now after more experience. The anecdotes definitely ring true and are one of the best parts of the book - they remind me of a 'business novel' like The Goal, with characters who you end up rooting for to learn more of the Agile principles and succeed. I could see myself and colleagues at different times in the past in quite a few of them! </p>
<h1>Cargo Cult Agile</h1>
<p>A concept occurred to me while reading the book (I'm sure I'm not the first to think of it). It covers a lot of the sorts of situations explored in the book. Richard Feynman memorably described 'Cargo Cult Science' in a speech at Caltech:</p>
<blockquote>
<p>" In the South Seas there is a Cargo Cult of people.  During the war they saw airplanes land with lots of good materials, and they want the same thing to happen now.  So they’ve arranged to make things like runways, to put fires along the sides of the runways, to make a wooden hut for a man to sit in, with two wooden pieces on his head like headphones and bars of bamboo sticking out like antennas—he’s the controller—and they wait for the airplanes to land.  They’re doing everything right.  The form is perfect.  It looks exactly the way it looked before.  But it doesn’t work.  No airplanes land.  So I call these things Cargo Cult Science, because they follow all the apparent precepts and forms of scientific investigation, but they’re missing something essential, because the planes don’t land."</p>
</blockquote>
<p>In the same fashion, there are many examples of what I'd call 'Cargo Cult Agile' - companies that appear to have implemented Agile, that claim to practice it - but if you dig down below the surface and observe their actual practices (and results) you must conclude that they are <em>not</em> really practicing Agile. In the best cases, they have taken a lot of Agile ideas and good practices and are using them to help their business - but haven't committed to all parts of a technique or methodology ('Scrum-But'). At worst, they've just renamed their existing business processes to make them sound more Agile.</p>
<p>For instance, a lot of software businesses run a daily stand-up meeting for each team. Perhaps they do this because they've heard it's a good idea, or it might be that it's embarrassing not to, these days. But if you were to be a fly on the wall at that meeting you might find it's devolved into a daily status report to a boss, or that not everyone gets a chance to speak, or that it drags on for far longer than a stand-up should and everyone's sitting down because their legs get exhausted. Likewise, I'm sure that many people share the experience of being on a team that's pressed for time, on a tight deadline imposed from above, and begins to throw Agile practices by the wayside. If practicing Scrum, it feels as if there's not enough time to perform some of the Scrum ceremonies, so we won't do a Sprint Review this month, or we won't plan the next Sprint right away but just launch into doing things. But in reality every technique that's dropped leaves you less in control of your project's trajectory, stuck firefighting and unable to surface long enough to focus on what's really important.</p>
<p>The business stories in the book dig into this sort of situation and explore how and why it can come to be. The Scrum concept of 'Scrum-But' fits in well with a lot of the anecdotes in the book - ie when someone describes their Agile practice as 'Scrum, but we don't do xyz'. Sometimes everyone gets tired and lapses into a less effective way of doing things, but the most insidious is when a company have tried to adopt Agile, because they hear it's best practice, but don't <em>really</em> want to change the way they do things. So they neglect or ignore the parts of Agile that threaten the way they already operate.</p>
<p>The worst part of Cargo Cult Agile is that it leaves the impression on people - particularly graduates who don't have a wide experience - that <em>this is what Agile means</em>. They're often left with a lasting distaste for the labels of concepts that are supposed to help energise and jell a team. If your regular 'stand-up' meeting lasted 45 minutes and you often didn't get the chance to speak because it was dominated by senior engineers discussing issues with each other in depth as you leant against the wall and tried to stifle your yawns ... you're not going to be keen on going to stand-up meetings in future. And if you become a senior engineer, perhaps you'll feel it's OK to dominate Stand Ups with <em>your</em> longwinded technical discussions, since that's how you learned about the idea of a stand-up. This is not good for our discipline's professionalism.</p>
<p>There are valiant attempts to fight these tendencies by Agile practicioners worldwide. Training offered by the Scrum Alliance attempts to put the practice of Scrum in particular on a more professional footing, and it's a good sign when a company sends its employees on Certified Scrum Master training as a matter of course - it means they are more likely to have some form of committment to Agile. But there can still be a large disconnect - a chasm - between the ideals that someone learns on a training course, and the reality they experience when they return to the office.</p>
<p>Another avenue through which Agile can get more successful adoption is hiring Agile coaches to work alongside teams for weeks or months and coach them in the practices and techniques of Agile in person. These folks have a daunting job indeed. Not only do they have to convince the cynical programmers that they're working alongside that this management fad (for they will have lived through many) will actually make a positive difference to their work lives - they also have to convince top management that it is worthwhile. Often, organisations will have lived through multiple unsuccessful attempts at transforming software delivery into an Agile process. The pinnacle of success in Agile adoption is always fragile. It only takes a little more institutional inertia, a little more doubt from management to reverse such a transformation entirely.</p>
<h1>Fundamentally at odds</h1>
<p>It's easy to pick up a simplistic idea of Agile, but hard to put the principles into practice, because they involve things that management in particular is uncomfortable with - giving up control to the development team, not knowing in advance all the details of what will be made, trusting the people who will do the work to estimate the time it will take. As <a href="www.thomaslindquist.com/blogg/not-even-wrong-a-few-words-on-agile-pirates-and-egalitarianism">Thomas Lindquist points out</a>, fundamentally what's going on here is a collision between the egalitarian values of Agile with the typical command-and-control corporate structure. </p>
<blockquote>
<p>"The hard truth is that Agile and Traditional Management still don’t get along. In repeated polls of people working in many different firms where Agile and Scrum are being implemented, somewhere between 70 to 90% report tension between the way Agile/Scrum teams are run in their organization and the way the rest of the organization is managed. Generally less than 10% reported 'no tension.'" Steve Denning, <a href="https://www.forbes.com/sites/stevedenning/2015/06/22/is-agile-just-another-management-fad/#c5f9e03dbf94">Is Agile Just Another Management Fad?</a></p>
</blockquote>
<p>This is a bit of a depressing realisation, because it means these problems are baked into many organisations from the start. Those who wish to implement Agile can naturally expect resistance, a constant struggle to preserve the ideals of the methodologies against the tendencies of their own organisation, unless they are lucky enough to work for a smaller organisation or one with a <a href="https://www.coops.tech/about.html">more egalitarian structure</a> (or for themselves, of course).</p>
<p>As Jurgen Appelo <a href="http://oledru.free.fr/agile/changement/Agile%20Survival%20Guide%20-%20Michael%20Sahota%20-%202012.pdf">observes in the foreword to Michael Sahota's 'Agile Survival Guide'</a> (which I highly recommend for thinking about this problem), </p>
<blockquote>
<p>"People don’t struggle so much with the adoption of Agile practices. They struggle with the transformation to the Agile mindset, because many organizational cultures actively resist it."</p>
</blockquote>
<p>Why do they actively resist it? Sahota compares it to T-Cells in the immune system, designed to kill foreign elements in the body (organisation). When one team makes a successful transformation to Agile ways of working, they experience a reaction from other parts of the organisation - unless they can disguise themselves as appearing to do 'business as usual'. In one of his suggestions, this takes the form of a useless Microsoft Project Plan that has no value to them or their customers but is required by the organisation for their team to work without further disturbance. Sahota suggests that Scrum is actually <em>too powerful</em> a tool - he points out "Scrum is designed to disrupt existing power and control structures by creating new roles (Product  Owner,  Scrum  Master, the Team). It also posits self-organizing teams as the fundamental building block of organizations. As such, it should be avoided if at all possible" as it will inevitably cause conflict and a complete failure of Agile adoption.</p>
<p>What is it that makes organisations so resistant to the very techniques that would help their workers do better work, become more closely connected to customers, have more control over their working environments and thus, be happier at work? Isn't that ostensibly what corporations want for their employees? Well, not really. Outside of vapid public relations exercises, what corporations <em>actually</em> want is what their shareholders want: to extract a maximum of profit from the efforts of their labour force, who they regard as interchangeable Human Resources. This leads to <a href="http://onfoodandcoding.blogspot.com/2013/10/time-value-and-dark-side-of-agile.html">the dark side of Agile</a>:</p>
<blockquote>
<p>"[T]he danger [is] that people outside the development team will hear these metaphors and misunderstand them — as a promise of work at a greater intensity and nothing more. Thinking that, apart from that, Agile is business as usual. Still yearning to make more money out of predictability, lower skills and lower wages. Not understanding that the point of Agile is to be Antifragile."</p>
</blockquote>
<p>Is your development team stuck in this sort of situation? How did you try to mitigate it? As always, I'm interested to know your thoughts via email.</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="../cargo-cult-agile.html">posted at 00:00</a>
                    &nbsp;&middot;&nbsp;<a href="../category/agile.html" rel="tag">agile</a>
                    &nbsp;&middot;
                    &nbsp;<a href="../tag/ethics.html" class="tags">ethics</a>
                    &nbsp;<a href="../tag/books.html" class="tags">books</a>
                    &nbsp;<a href="../tag/agile.html" class="tags">agile</a>
                </div>
            </article>            <h4 class="date">Jun 24, 2024</h4>

            <article class="post">
                <h2 class="title">
                    <a href="../campionato-mondiale-di-umari.html" rel="bookmark" title="Permanent Link to &quot;I'm a Champion of Watching Construction&quot;">I'm a Champion of Watching Construction</a>
                </h2>

                
                

                <p><img alt="Campionato" src="../images/Umarell-Final-Front-Design-smaller.png">
<em>They also serve who only stand and watch construction</em></p>
<p>I'm delighted to say that I recently won a writing challenge, 'Il Campionato Mondiale Di Umari'. </p>
<p>An 'Umarell' is a lighthearted way of referring to elderly men who like to watch construction sites. The practice is apparently so common in Italy that special holes are often included in fences around roadworks to make it easier for these retired guys to enjoy their favourite pastime. But ogling construction work isn't just for retired people! Spencer Wright at Scope of Work explains -</p>
<blockquote>
<p>To umarell is to take an interest in the built environment – the environment that our species creates, and in which most of us spend most of our time. An umarell turns their attention to that environment's creation, taking time to appreciate the materials, machines, and muscles from which it emerges. Umarelling is an act of respect and appreciation, and it is for this reason that I am proud to announce the inaugural Campionato Mondiale di Umari – the 2024 World Umarelling Championship.</p>
</blockquote>
<p>The championship had three categories: notes, sketches and open text. I won in the open text category with an original poem and was delighted to be sent my own official 'Umarelling' notebook and a T-shirt which I'll wear with pride.</p>
<p>Check out <a href="https://www.scopeofwork.net/the-winners-of-the-2024-campionato-mondiale-di-umari/">my work and that of the other two winners here</a>!</p>
<p>The challenge was organised by my favourite design and engineering newsletter, <a href="https://www.scopeofwork.net/">Scope of Work</a>, which I've been following ever since I was an undergrad in Manufacturing Engineering. Spencer Wright's newsletter is always one of the things I look forward to most in my inbox. If you like deep dives into <a href="https://www.scopeofwork.net/frostbitten/">how we keep food fresh</a>, the history of <a href="https://www.scopeofwork.net/selling-sunshine/">soap in a box</a>, or understanding what it takes to <a href="https://www.scopeofwork.net/the-flamingoes/">put a flamingo inside a beachball</a> you'll definitely enjoy Scope of Work. I can't count the number of times it's introduced me to my latest obsession.</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="../campionato-mondiale-di-umari.html">posted at 00:00</a>
                    &nbsp;&middot;
                    &nbsp;<a href="../tag/poetry.html" class="tags">poetry</a>
                    &nbsp;<a href="../tag/construction-sites.html" class="tags">construction sites</a>
                    &nbsp;<a href="../tag/manufacturing.html" class="tags">manufacturing</a>
                </div>
            </article>            <h4 class="date">Jun 16, 2022</h4>

            <article class="post">
                <h2 class="title">
                    <a href="../code-newbie-2022.html" rel="bookmark" title="Permanent Link to &quot;CodeLand 2022&quot;">CodeLand 2022</a>
                </h2>

                
                

                <p><img alt="Code Newbie" src="../images/code-newbie-hannah.png">
<em>I spoke at a virtual conference!</em></p>
<p>I was recently invited to speak at Code Newbie's <a href="https://community.codenewbie.org/t/codeland22">CodeLand 2022</a>. I had a wonderful time at the virtual conference and got the chance to speak with some great people including experts in the field (I was part of a roundtable discussion with <a href="https://github.com/kelseyhightower">Kelsey Hightower</a>, I was starstruck!). Code Newbie's community is a lovely welcoming place for everyone, especially folks who are just getting started in software professionally. I'm definitely interested to go along again next year.</p>
<p>If you'd like to watch my talk, it's still available on demand <a href="https://community.codenewbie.org/codeland2022/on-demand-talk-how-i-tracked-my-pregnancy-with-python-emojis-4cef">here</a></p>
                <div class="clear"></div>

                <div class="info">
                    <a href="../code-newbie-2022.html">posted at 00:00</a>
                    &nbsp;&middot;
                    &nbsp;<a href="../tag/python.html" class="tags">python</a>
                    &nbsp;<a href="../tag/conferences.html" class="tags">conferences</a>
                </div>
            </article>            <h4 class="date">Mar 13, 2021</h4>

            <article class="post">
                <h2 class="title">
                    <a href="../bb.html" rel="bookmark" title="Permanent Link to &quot;He's Here!&quot;">He's Here!</a>
                </h2>

                
                

                <p><img alt="Baby" src="../images/samuel-newborn.jpg">
<em>He's very new!</em></p>
<p>I won't be updating this blog for a while as <a href="https://anvil.works/blog/what-do-due-dates-mean">my little one has finally arrived!</a></p>
<p>We're having a lot of fun (although not a lot of sleep).</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="../bb.html">posted at 00:00</a>
                    &nbsp;&middot;
                    &nbsp;<a href="../tag/family.html" class="tags">family</a>
                </div>
            </article>            <h4 class="date">May 22, 2020</h4>

            <article class="post">
                <h2 class="title">
                    <a href="../unexploded.html" rel="bookmark" title="Permanent Link to &quot;Unexploded Bombs&quot;">Unexploded Bombs</a>
                </h2>

                
                

                <p><img alt="Masts" src="../images/ss-richard-montgomery-masts.jpg">
<em>Masts of the SS Richard Montgomery. Photo by Clem Rutter, Rochester, Kent <a href="https://creativecommons.org/licenses/by/3.0">CC BY</a></em></p>
<p>I'd like to introduce you to the SS Richard Montgomery. For those who don't know the story already, it's quite extraordinary. </p>
<p>Towards the end of WWII, a Liberty Ship, the SS Richard Montgomery, ran aground on shifting sands just off the coast of Sheerness at the mouth of the Thames Estuary. She was loaded with over 6,000 tonnes of high-explosive bombs and detonators. Salvage operations managed to remove some of the explosives, but before the ship could be made safe it sank further and salvage was abandoned. The ship and her thousands of tonnes of remaining explosives was then left to sit for over 75 years. She is still there.</p>
<p>One of the most remarkable things about the wreck is her location. She lies in shallow water just 2.4 km from the seaside town of Sheerness. Not only that, but she is less than 200m from a busy shipping lane, and remarkably close to the <a href="https://en.wikipedia.org/wiki/Grain_LNG_Terminal">Grain Liquid Natural Gas Terminal</a>, the largest Liquified Natural Gas facility in Europe.</p>
<h2>How dangerous is it?</h2>
<p>WWII ordinance turns up every now and then during construction projects. Some <a href="https://www.cambridge-news.co.uk/news/cambridge-news/fire-ice-rink-building-site-14003659">unexploded WWII grenades were discovered</a> while building an ice rink in my home town of Cambridge. The discovery triggered a visit from the bomb disposal squad and emergency services, alongside a limitation on flights in and out of Cambridge Airport until the grenades could be made safe.</p>
<p>But the amount of unexploded munitions here is in an entirely different category. There are no clear records of how much ordinance was left on the ship, but according to <a href="https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/851504/2000_survey_report_montgomery.pdf">an official MCA report</a> the ship likely contains more than 9000 explosives including cluster bombs and hundreds of giant 2,000lb 'blockbuster' bombs.It's hard to comprehend their explosive power should they go off. </p>
<p>A <a href="https://www.newscientist.com/article/mg18324615-100-the-doomsday-wreck/">New Scientist investigation from 2004</a> suggests that spontaneous detonation of the entire cargo would hurl a column of debris up to 3 kilometres into the air, send a tsunami barrelling up the Thames and cause a shock wave that would damage buildings for miles around, including the liquid gas containers on the nearby Isle of Grain, which could detonate in turn.</p>
<h2>What happens next?</h2>
<p><img alt="Map of location" src="../images/map_SS_Richard_Montgomery.png">
<em>Suggested locations of new airport in Thames Estuary. By Ordnance Survey with modifications by Prioryman <a href="https://commons.wikimedia.org/w/index.php?curid=26983622">CC BY 3.0</a></em> </p>
<p>Some demolition experts are content to let the wreck lie, hoping that time and tide will reduce the deadliness of her cargo. They argue that any attempt to clear the bombs from the wreck would be riskier than letting her lie. These arguments give the example of the explosion of the Kielce, a smaller munitions wreck which was more than 6km out to sea. A failed salvage operation there in 1967 set off an explosion that measured 4.5 on the Richter scale and damaged property in nearby Folkestone.</p>
<p>However, others disagree and argue that the wreck is actually becoming more dangerous over time. Phosphorous is now apparently leaking from the munitions aboard, evident as flames on the surface of the water where it burns in contact with air. These can sometimes be seen at night by local residents.</p>
<p>Another possibility is a collision. There have <a href="https://www.bbc.com/future/article/20151027-the-ticking-time-bomb-of-the-thames">already been at least 22 near-misses</a> where shipping traffic only just steered away from the exclusion zone around the wreck in time. One particularly harrowing episode occurred in May 1980 when a Danish chemical tanker, 'Mare Altum', steered aside only minutes before she would have impacted the Montgomery. </p>
<p>There have been <a href="https://www.theyworkforyou.com/lords/?id=2019-07-03a.1499.0#g1499.2">persistent questions in Parliament</a> asked about the subject. <a href="https://www.gov.uk/government/publications/the-ss-richard-montgomery-information-and-survey-reports">Recent surveys</a> suggest that the condition of the wreck is rapidly deteriorating, which might lead to a sudden catastrophic collapse. Dave Welch, a former Royal Navy bomb disposal expert, who has advised the government on the SS Richard Montgomery's munitions, says:</p>
<blockquote>
<p>"We can’t continue just leaving the wreck to fall apart. Somebody at some point in the next five to ten years is going to have a very difficult decision to make and I would say the sooner it’s made, the easier and cheaper it will be as a solution."</p>
</blockquote>
<p>So far, no solution is in sight.</p>
<h1>How does this relate to programming, anyway?</h1>
<p>Every codebase has its unexploded bombs. Not so potentially serious as the SS Richard Montgomery, perhaps. But our code is out there driving all sorts of things in the real world. If we neglect potentially serious problems, we can harm people just as easily as other kinds of engineers.</p>
<h2>Take your bug reports seriously</h2>
<p>It can be too easy to dismiss user reports of bugs or accidental misuses of your application. Because we are so familiar with our own code, it can lead to a feeling of contempt for the person who doesn't approach the software in the same way that we do, or have as much knowledge about the underlying structure. And there is of course a natural feeling of defensiveness toward our own work. It can be humbling to find a bug in what you had hoped was well-crafted code, a blow to your ego and confidence as a programmer, perhaps.</p>
<p>This kind of misplaced confidence can be lethal. In the <a href="https://en.wikipedia.org/wiki/Therac-25">Therac-25 Incidents</a> at least 6 cancer patients were given hundreds of times the desired dose of radiation therapy. This resulted in serious injuries and deaths. The malfunctions were reported early to the manufacturer, who sent engineers to a hospital where one of the lethal accidents occurred. They spent a day running the machine through tests but could not reproduce the critical malfuction, code 54, which only appeared when users typed with a certain fast frequency as experienced operators sometimes could. Because the error that caused the lethal bug was not observed by company investigators, they concluded it was "not possible for the Therac-25 to overdose a patient". It took another tragic accidental death to prove them wrong. This <a href="https://web.archive.org/web/20041128024227/http://www.cs.umd.edu/class/spring2003/cmsc838p/Misc/therac.pdf">excellent analysis of the accidents</a> dissects the timeline of events and has valuable lessons for us, particularly medical software developers.</p>
<p>We can be falsely confident about our code fixes, too, thinking that they resolve an issue when really they don't. It takes a particular critical, persistent mindset to debug a system well and really fix what the root of a problem was. The excellent rules of thumb in <a href="http://debuggingrules.com/?page_id=40">Dave Agans' 'Debugging'</a> book are something I return to time and again when tackling software problems. I encourage you to print out the poster and put it on your wall! One of his key points is that until you can reliably trigger a bug, you don't know what the true cause is or whether a fix has addressed the bug or not. Intermittent faults which only appear under certain conditions, like the problems with Therac-25, can be the hardest things to address.</p>
<h2>Listen to the voice of inexperience</h2>
<p>Listen to newcomers - interns, new starters, people approaching a piece of the code they haven't worked on before. It's very easy to become habituated to a worrying situation - to live atop an unexploded bomb - and sometimes the only way to snap out of your ingrained habit of dismissing a problem is to listen to someone new worry about it. </p>
<p>I would argue that part of the onboarding process for programmers joining a new team should be to ask them what 'unexploded bombs' they might see in the code. There's usually a "and do <em>you</em> have any questions for <em>us</em>" stage in an internship check-in, for instance, but we rarely take the feedback we recieve this way seriously, or get enough detail to understand what about the codebase might be confusing or painful to work with.</p>
<p>Doing a '<a href="https://www.youtube.com/watch?v=5VZrCnKLmP8">Code Walk</a>' structured walkthrough of the code can be very illuminating. (I <em>highly</em> recommend this talk by Mary Chester-Kadwell - it has really shaped the way I teach and learn about new codebases). In the process, pay attention to the questions your new team-mate asks and reflect on what they say about the health of the different parts of your codebase. Is there anything where when you explain it aloud, it seems convoluted and awkward, or counter-intuitive? Anywhere you particularly wish there was documentation to show your new recruit? Those places may be where problems are lurking.</p>
<h2>Pay attention to the jokes</h2>
<p><img alt="Mermaid of Sheerness" src="../images/montgomery-mermaid-mural.jpg">
<em>Mural by Dean Tweedy made for the Promenade Arts Festival in 2015 - photo Andy Hebden</em></p>
<p>Matt Brown, chairman of Sheerness Enhancement Association for Leisure, condemned the mural <a href="https://www.kentonline.co.uk/sheerness/news/anger-over-terrorist-mermaid-mural-41963/">in the local newspaper</a>, saying: </p>
<blockquote>
<p>"If I was a family visiting, whether I knew about the Montgomery or not, I wouldn’t want to be sitting at the leisure park with the kids being reminded you have those explosives out there."</p>
</blockquote>
<p>The artist rebutted: "I wanted to make people aware of the Montgomery as it’s part of Sheerness. Some people would like to deny its existence." </p>
<p>The mermaid makes some local people uncomfortable because it reveals a truth about their town they'd rather not have to acknowledge - the ever-present danger to their lives from the offshore explosives. For a certain kind of authority figure, the <em>reminder</em> of a dangerous situation is worse than the actual danger, because without the reminder they can continue to live their lives without having to address the elephant in the room.</p>
<p><img alt="XCKD Data Pipeline" src="../images/data_pipeline.png">
<em>This xkcd strip about data pipelines makes me laugh - but it also makes me think about the robustness of my code.</em></p>
<p>Sometimes the equivalent of a Sheerness Mermaid Mural is the only way you can spot a problem that's become engrained in the way your code is put together. Is there a particular XKCD or Dilbert cartoon that seems to epitomise the bugs and problems you're encountering? Perhaps all the developers working on a particular part of the codebase have a set of in-jokes describing the way a certain class behaves itself? A kind of gallows humour about how a module is annoying to use, something that makes you cringe because it's a little too accurate?</p>
<p>These are all clues to what might be underlying dysfunctions of your code. By paying attention to them, you might be able to spot an unexploded bomb and defuse it, before your users discover it and blow things sky-high.</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="../unexploded.html">posted at 00:00</a>
                    &nbsp;&middot;
                    &nbsp;<a href="../tag/legacy.html" class="tags">legacy</a>
                    &nbsp;<a href="../tag/programming.html" class="tags">programming</a>
                    &nbsp;<a href="../tag/codebase.html" class="tags">codebase</a>
                </div>
            </article>            <h4 class="date">Sep 16, 2019</h4>

            <article class="post">
                <h2 class="title">
                    <a href="../renpy.html" rel="bookmark" title="Permanent Link to &quot;Telling Stories With Python And Ren'Py&quot;">Telling Stories With Python And Ren'Py</a>
                </h2>

                
                

                <p>This is a write-up of a workshop I've given at <a href="https://www.meetup.com/CamPUG/events/263945805/">CamPUG</a> and <a href="https://2019.pyconuk.org/">PyCon UK 2019</a>. It was a lot of fun to deliver, and my participants came away with their own mini-games written in Ren'Py. I was impressed by the range of creative stories, everything from getting lost in Cardiff, storming Area 51, coaxing a grumpy cat, visiting a music festival, going to space, defeating animated fleas, visiting every pub in Cambridge, a child's guide to the Divine Right of Kings, interactive graffiti and more!</p>
<p>I hope this post will be useful as a reference for workshop participants and those who couldn't make it along.</p>
<h2>What is Interactive Fiction?</h2>
<p>You might be familiar with the concept of interactive fiction from "Choose Your Own Adventure" books. </p>
<p>Ever since computers came on the scene there has been interactive fiction here, too. <a href="http://textadventures.co.uk/games/view/5zyoqrsugeopel3ffhz_vq/zork">Zork</a>, one of the earliest examples, is a dungeon-crawling game where the player explores The Great Underground Empire by typing text commands.</p>
<p>Using later tools like <a href="https://github.com/curiousdannii/parchment">Parchment</a> and <a href="https://twinery.org/wiki/start">Twine</a> people are still creating these text-based interactive fiction games. A text-based game I've enjoyed recently is <a href="http://iplayif.com/?story=http%3A%2F%2Fwww.ifarchive.org%2Fif-archive%2Fgames%2Fcompetition2002%2Fzcode%2Fmoonlit%2FMoonlit.z5">Moonlit Tower</a> by sci-fi author Yoon Ha Lee.</p>
<p>Visual Novels are a genre of interactive fiction that combines pictures and text as a storytelling tool. They originated in Japan and many famous examples such as <em>Fate/Stay Night</em> and <em>Symphonic Rain</em> are Japanese. These games are often romance or relationship-themed, each path perhaps leading to a relationship with a different character.</p>
<h2>Ren'Py</h2>
<p><img alt="Ren'Py Icon" src="../images/renpy-icon.png"></p>
<p><a href="https://renpy.org">Ren'Py</a> is a visual novel creation engine written in Python. It has its own syntax and style, but also allows you to embed pure Python for more complex gameplay mechanics.</p>
<p>It is cross-platform and works on Mac, Linux and Windows. All that you need alongside it is a simple text editor that can convert tabs to spaces, such as gedit.</p>
<h2>What can you do in Ren'Py?</h2>
<h4>Label Jump For Branching Stories</h4>
<p><img alt="Road Not Taken Screenshot" src="../images/road_not_taken.png"></p>
<p>I would humbly suggest my own game <a href="https://github.com/RaspberryCheesecake/RoadNotTaken">The Road Not Taken</a> as a useful introduction to the <code>label</code> / <code>jump</code> mechanic. Take a look in the <code>script.rpy</code> file to follow how the game works. It demonstrates how menus work in the game and how you can use them to move to different choices, similar to a GOTO statement. It also includes an example of embedding music within gameplay to add a mood to a scene. Feel free to copy and modify it as a basis for your own games.</p>
<h4>Custom GUI</h4>
<p><img alt="Hotel Shower Knob Screenshot" src="../images/Hotel_Shower_Knob_gameplay.png"></p>
<p><a href="https://yossarianiii.itch.io/ho">Hotel Shower Knob</a>, a game where you have to puzzle out an unfamiliar hotel bathroom to take a shower, is a good example of a custom GUI. Inside <code>options.rpy</code> the creator replaced the usual cursor with a custom image of a hand:</p>
<div class="highlight"><pre><span></span>## The mouse clicker thingy.

define config.mouse = { &#39;default&#39; : [ (&#39;cursor.png&#39;, 66, 95)] }
</pre></div>


<p>This makes for a unique visual experience. As the hand is Creative-Commons licenced, you could use it in your own games, too!</p>
<h4>Embedded Python</h4>
<p><img alt="Two Worlds Screenshot" src="../images/two-worlds-screenshot.png"></p>
<p>Because Ren'Py is written in Python (2.7, if you're interested) it's easy to embed Python statements within it to acheive more complex effects such as creating mini-games. There are two ways to do this - prefixing single lines with <code>$</code> or using an indented block with the <code>python:</code> statement. I used <code>python:</code> statements within Ren'Py to create <code>Card</code> objects for my game <a href="https://github.com/RaspberryCheesecake/TwoWorldsGame/blob/master/game/script.rpy#L22">Two Worlds</a>.</p>
<p>The key thing to notice is the definition of the <code>Card</code> class:</p>
<div class="highlight"><pre><span></span># Define the card objects used to play the games with
init:
    python:

        flowers = [&quot;card-front-land-flower%d.png&quot; % i for i in range(1, 3)]

        class Card(object):
            def __init__(self):
                self.face_up = False
                self.selected = False
                self.number = 0
                self.coords = [0, 0]
                self.back = &quot;card-back-land.png&quot;
                self.front = flowers[0]
                self.paired = False

            @property
            def coord_text(self):
                return &quot;{}, {}&quot;.format(self.coords[0], self.coords[1])
</pre></div>


<p>This happens during the <code>init:</code> block, before the game starts, so it is available from the beginning. I subsequently used this in the <code>sea_game.rpy</code> and <code>land_game.rpy</code> files using the <code>ui.interact()</code> statement and <code>action If</code> to connect it with Ren'Py responses to on-screen clicks.</p>
<h4>Persistent Data</h4>
<p>Another useful trick is the ability to store persistent data between plays of the game. </p>
<p><img alt="Example From Long Live The Queen" src="../images/llq-ss3.jpg">
<em>An example from Long Live The Queen</em></p>
<p>This allows more satisfying gameplay such as unlocking new routes after a complete playthrough, and keeping track of player stats like Strength or Skill. Anything that can be <code>pickled</code> is suitable for this treatment. A simple example:</p>
<div class="highlight"><pre><span></span>if persistent.secret_unlocked:
        scene secret_room
        e &quot;I see you&#39;ve played before!&quot;
</pre></div>


<p>To unlock this path the user must hit a piece of code that sets <code>$persistent.secret_unlocked = True</code></p>
<p><code>persistent</code> is a special keyword in Ren'Py, so you shouldn't use it for anything else. Unlike other variables, if you haven't yet initialised it when you reach the if statement Ren'Py won't complain.</p>
<h2>Useful sources of free images and sounds for your games</h2>
<p>There are various community projects to collect images and sound to use in games with Creative Commons or similar licences.</p>
<p>I've found <a href="www.pxhere.com">px here</a> a useful collection of images, particularly photos.</p>
<p>I used <a href="https://fraqtive.mimec.org/">Fraqtive</a> to create the card images and backgrounds for Two Worlds.</p>
<p>Useful sound sources include <a href="http://freemusicarchive.org">Free Music Archive</a> and for sound effects, <a href="https://freesound.org/">Free Sound</a></p>
<h2>Example games written in Ren'Py</h2>
<p><a href="https://joffeorama.itch.io/benthic-love">Benthic Love</a> – Michaela Joffe, Sonya Hallett</p>
<p><a href="https://yossarianiii.itch.io/ho">Hotel Shower Knob</a> – Yoss III</p>
<p><a href="https://lernakow.itch.io/dabopcr">Death And Burial Of Poor Cock Robin</a> – Lernakow</p>
<p><a href="https://www.hanakogames.com/llq.shtml">Long Live The Queen</a> – Hanako Games</p>
<p>And check out the <a href="https://itch.io/jam/nanoreno-2019">NaNoRenO</a> game jam each year during the month of March – or better still, take part!</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="../renpy.html">posted at 00:00</a>
                    &nbsp;&middot;
                    &nbsp;<a href="../tag/workshop.html" class="tags">Workshop</a>
                    &nbsp;<a href="../tag/renpy.html" class="tags">Ren'Py</a>
                    &nbsp;<a href="../tag/interactive-fiction.html" class="tags">Interactive Fiction</a>
                </div>
            </article>            <h4 class="date">Apr 12, 2019</h4>

            <article class="post">
                <h2 class="title">
                    <a href="../learning-scrum.html" rel="bookmark" title="Permanent Link to &quot;Agile Workshop&quot;">Agile Workshop</a>
                </h2>

                
                

                <p>I recently attended a Certified Scrum Master course taught by Tobias Mayer of <a href="https://www.adventureswithagile.com/">Adventures With Agile</a>. I really enjoyed the course and the style in which it was taught. There was no death by Powerpoint! Tobias actually constructed a board on the wall with columns to keep track of the tasks comprising the course, and we added extra task cards for further discussion and questions as we went along. </p>
<p><img alt="The board" src="../images/scrum-course-scrum-board.jpg">
<em>Here's what the board looked like near the start of the two day course.</em></p>
<p>We held 'Sprints' of an hour or so at a time, diving into aspects of Agile and then reviewing how it went, to improve our group process. Sometimes the teacher would stand and talk about a concept for a while, but mostly the course was interactive, especially during the second day where we broke out into groups for longer sessions. </p>
<p>The exercises we did included 'Point and Go': a game where players stand in a circle and have to </p>
<ul>
<li>Point to someone else whose place you want to take</li>
<li>Wait for them to say "Go"</li>
<li>Start moving forwards to them</li>
<li>Before you reach them, they have to find another place to go (and the cycle continues!)
This was unexpectedly hard! It was a metaphor for how difficult it can be to break out of an established pattern of behaviour at work. Even once we got into a rhythm, if things sped up or someone panicked, our orderly pattern fell apart.</li>
</ul>
<p>Another exercise I enjoyed was coming up with different metaphors for Scrum. We broke out into groups and thought up some different ideas - I was impressed by the variety and how each of them fitted different parts of what Scrum can look like. Some of my favourites were:</p>
<ul>
<li>a garden growing and changing over time</li>
<li>a cocktail bar developing new drinks</li>
<li>a stand-up comedian working on their routine</li>
<li>a graffiti crew making a work of art for their neighbourhood</li>
<li>Jurassic Park (this was mine!)</li>
</ul>
<p><img alt="A Product Owner is like a Duchess" src="../images/scrum-roles-mindmap.jpg">
<em>A mindmap from my notes about the different Scrum roles</em></p>
<p>Following the training, I'm a Certified Scrum Master. There have been <a href="https://www.infoq.com/news/2009/03/more-on-scrum-certification-test">some intelligent criticisms</a> of this certification process, including by some of its founders. The fact that there is a certification exam seems to somewhat devalue the training experience itself. I didn't really need to complete the training to do the certification exam - its questions are purely based on the <a href="https://www.scrum.org/resources/scrum-guide">Scrum Guide</a> and a few on the <a href="https://agilemanifesto.org/">Agile Manifesto</a>. How well can a multiple-choice test about a short document really hope to measure someone's competence in such a fuzzy relationship-centred domain as taking on the role of a Scrum Master? It's always going to fall short, I think. I've acted as a Scrum Master for several years already without the certification, so I was interested to see what it covered and didn't touch on.</p>
<p>I passed the exam. But the things that will really stay with me are the advice of the trainer and the discussions I had during the course, especially with others whose companies are also on the path to adopting more Agile practices. I certainly recommend Tobias as a teacher: his creative exercises and the way he presented the course helped grow my understanding and confidence in the role of Scrum Master. I'd like to attend his <a href="https://tobiasmayer.uk/scrum/smclinics">Scrum Master Clinic</a> - I think it will really help to have that ongoing mentoring and peer advice.</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="../learning-scrum.html">posted at 00:00</a>
                    &nbsp;&middot;&nbsp;<a href="../category/agile.html" rel="tag">agile</a>
                    &nbsp;&middot;
                    &nbsp;<a href="../tag/scrum.html" class="tags">scrum</a>
                    &nbsp;<a href="../tag/coaching.html" class="tags">coaching</a>
                    &nbsp;<a href="../tag/agile.html" class="tags">agile</a>
                    &nbsp;<a href="../tag/workshop.html" class="tags">workshop</a>
                </div>
            </article>            <h4 class="date">Feb 10, 2019</h4>

            <article class="post">
                <h2 class="title">
                    <a href="../flex-and-bison.html" rel="bookmark" title="Permanent Link to &quot;Flex and Bison&quot;">Flex and Bison</a>
                </h2>

                
                

                <p>I recently started to learn about <code>flex</code> and <code>Bison</code> - a set of parser creation tools for C, C++ and Java. By specifying the grammar and rules for parsing inside two files, <code>blah.y</code> and <code>blah.l</code>, the <code>flex</code> and <code>bison</code> command-line Linux tools will auto-generate an appropriate parser in your chosen language. As you might imagine, this is very handy. </p>
<p>Since it's generally better to show rather than tell when it comes to software tools, <a href="https://github.com/RaspberryCheesecake/flexible-bison/blob/master/README.md">here's a toy project I've been playing with</a> in which I'm using them to parse GCODE. </p>
<p>The <code>flex</code> part is what's called a <em>lexical analyser</em> - it uses regular expressions to split the input into <em>tokens</em>. These tokens are used to generate a parser with the <code>Bison</code> part, which is the grammar that tells the parser what do do when certain tokens are read side by side.</p>
<p>What particularly struck me about these tools was just how old they are. </p>
<p><img alt="Elegant weapons ... " src="../images/lisp_cycles.png"> </p>
<p><code>Bison</code> is a descendant of a tool called <code>Yacc</code> (Yet Another Compiler Compiler) which was developed by Steven Johnson working for Bell Labs back in the early 1970s, inspired by Donald Knuth's work on <a href="https://en.wikipedia.org/wiki/LR_parser">LR parsing</a>. It has been rewritten in many different languages over the years, but the most popular implementation these days is probably <code>Bison</code>, which dates back to 1985, when it was worked on by Robert Corbett. Richard Stallman (yes, that Richard Stallman) made the <code>GNU-Bison</code> tool <code>Yacc</code>-compatible.</p>
<p><code>Flex</code> meanwhile was written in C by Vern Paxson in 1987, tranlating an older tool called <code>Lex</code>. <code>Lex</code> was originally written by Mike Lesk and Eric Schmidt, and <a href="https://www.epaperpress.com/lexandyacc/download/lex.pdf">described in a paper</a> by them in 1975. It was initially written in <code>ratfor</code>, an extended version of Fortran popular at the time.As they point out in the paper:</p>
<blockquote>
<p>"As  should  be  obvious  from  the  above,  the outside of Lex is patterned on Yacc and the inside on  Aho’s  string  matching  routines. Therefore, both S. C. Johnson and A. V. Aho are really originators of much of Lex, as well as debuggers of it. Many thanks are due to both. The code of the current version of Lex was designed, written, and debugged by Eric Schmidt"</p>
</blockquote>
<p>As you might expect of such venerable tools, they have some excellent tutorials on their use, including an O'Reilly book <a href="https://www.oreilly.com/library/view/flex-bison/9780596805418/">"flex &amp; bison"</a> - which itself is the "long awaited sequel" to the O'Reilly classic, "lex &amp; yacc". Those who teach in depth about these tools or about parsing are in some danger of <a href="https://www.dabeaz.com/ply/">re-writing them even more nicely in a favourite language</a> - the linked example is PLY, which was originally developed in 2001 for use in an Introduction to Compilers course where students used it to build a compiler for a Pascal-like language.</p>
<p>I'm fascinated by how tools like this have survived and thrived over what, to computer science, is an enormous amount of time. Perhaps it is because they are beautiful - they have some inherent quality that shines out, no matter what language they happen to be in. I was re-reading the interview with Fran Allen in 'Coders At Work' about beautiful code, and it really resonated.</p>
<blockquote>
<p><em>Allen</em>: One of the things I remember really enjoying is reading the original program - and considering it very elegant. That captured me because it was quite a sophisticated program written by someone who had been in the field a while - Roy Nutt. It was beautifully written.
<em>Seibel</em>: What makes a program beautiful?
<em>Allen</em>: That it is a simple straightforward solution to a problem; that has some intrinsic structure and an obviousness about it that isn't obvious from the problem itself. I picked up probably a new habit from that of learning about programming and learning about a new language by taking an existing program and studying it.
<em>Seibel</em>: How do you read code? Let's say you're going to learn a new language and you find a program to read - how do you attack it?
<em>Allen</em>: Well, one example was one of my employees had built a parser. This was later on for the PTRAN project. And I wanted to understand his methods. It's actually probably the best parser in the world - now it's out in open source, and it's really an extraordinary parser that can do error correction in flight. I wanted to understand it, so I took it and I read it. And I knew that Phillipe Charles, the man who had written it, was a beautiful programmer. The way I would approach understanding a new language or a new implementation of some very complex problem would be to take a program from somebody that I knew was a great programmer, and read it.</p>
</blockquote>
                <div class="clear"></div>

                <div class="info">
                    <a href="../flex-and-bison.html">posted at 00:00</a>
                    &nbsp;&middot;
                    &nbsp;<a href="../tag/parsing.html" class="tags">Parsing</a>
                    &nbsp;<a href="../tag/c.html" class="tags">C</a>
                    &nbsp;<a href="../tag/c.html" class="tags">C++</a>
                    &nbsp;<a href="../tag/tools.html" class="tags">Tools</a>
                </div>
            </article>            <h4 class="date">Dec 31, 2017</h4>

            <article class="post">
                <h2 class="title">
                    <a href="../legacy-code.html" rel="bookmark" title="Permanent Link to &quot;The Knowledge in the Code&quot;">The Knowledge in the Code</a>
                </h2>

                
                

                <p>My colleagues and I were discussing legacy code the other day. Someone gave the pretty common opinion that, if there was time, they would of course completely re-write all the legacy code they came across, from scratch. But, since this is not an ideal world and time is limited, they would settle for refactoring what they could. It got me thinking about how my own attitude toward legacy code has changed over time, and why that is.</p>
<h2>Indiana Jones and the Lost Code</h2>
<p>I spent one summer at university working on a classic legacy code problem. A scientist had written a large piece of Fortran 95 to simulate a manufacturing process for my employers. He had long since retired and there was no way to contact him to ask about his work. As an intern I was asked to add a little bit of extra functionality. They were still using the code and found it reliable, but wanted to add a feature. I felt like an archaeologist, dusting off terse variable names and cryptic comments, trying to understand not only this code but the complex processes it was simulating, too. It was very difficult to get anywhere.</p>
<p><img alt="Uncovering the secret of the Lost Code" src="../images/indy-uncovers-artifact.jpg">
<em>I wonder if I can replace this function without adding test coverage?</em></p>
<p>My initial reaction - rewrite it! I think most programmers share this instinct. My idea was to tear it down completely and rebuild it, preferrably in a different, more modern language. Then, I felt, I could add the features that were needed. But my manager was adamantly against this. As a summer intern, I would leave soon anyway. If I rewrote the code in another language, where was the benefit to the company? From their perspective, they already had a tool that worked fine. They just needed someone to understand what they already had and improve it a bit. At the time I was frustrated by this. I would tell others the tale with a wistful air - "If only I had had the time to rewrite it properly" I would think, "it would have been so much better". But would it have?</p>
<h2>Why Rewrite Code?</h2>
<p>I've come across a few different reasons for re-writing code completely. None of them really convince me of their merits anymore.</p>
<ul>
<li><strong>To write it in a new language.</strong></li>
</ul>
<p>The new language is considered to be 'better' - it has features you want, or the old language is considered passe. Fortran 95 certainly wasn't the best language to be writing new code in anymore! For one thing, there was a severe restriction on variable and routine name lengths - in order to maintain backward compatibility with earlier versions of the language, none of the variables was over 6 characters in length, which didn't aid readability. But most cases aren't as clear-cut as this - I think most people wouldn't choose to re-write a large C program in Rust even if they think Rust is a superior language in some respects.</p>
<ul>
<li><strong>For understanding.</strong></li>
</ul>
<p>No-one can figure out how the old code works, so we have the idea to learn by doing and completely rewrite it. It's certainly "easier to write code than read it." This is even true of one's own code - returning to something I wrote six months ago, I realised to my regret I left insufficient comments and good names behind - so I had to learn how to understand my own code again, refactoring some of the names once I had worked out what I was doing. But by the same token, if you re-write others' code, there's no guarantee it will be any more readable to the next person - even to yourself, later on. Taking more time to read and understand what the existing code is doing may end up being more valuable. Perhaps one of the problems with this approach is that programmers feel guilty for spending some of their work time 'just reading' other people's code. It doesn't feel like a productive activity in the same way as re-writing. Reading old code just produces understanding in your mind, no tangible output.</p>
<ul>
<li><strong>You don't trust the people who wrote the code.</strong></li>
</ul>
<p>'Not Invented Here' syndrome. Especially since <a href="http://gamedevwithoutacause.com/?p=1329">many programmers have poor code reading skills</a> it's difficult to relax and trust unknown programmers. We can't easily just grok their code and be reassured that it's solid - so fear creeps in and the idea of a complete re-write or making our own version from scratch seems more appealing. If your instinct is not to trust the unknown, it becomes even harder:</p>
<blockquote>
<p>"You can’t look down on someone when you read their code. If you don’t respect the person writing the code, you won’t be able to apply the energy needed to understand it." - Keiichi Yano <a href="https://twitter.com/CaptivNation">@CaptivNation</a></p>
</blockquote>
<p>In the Python world this has mostly been overcome when dealing with third-party modules - for some reason, if you can pip install a library function to do what you want, there isn't the same need to question and look under the hood in mistrust at <em>how</em> it does what it does. The module is generally treated as a black box, whose documentation is all you need to work with it. Perhaps this trust has been built up in the Python community over time and isn't readily extendable to other domains - it's certainly a large factor in the appeal of Python as a language.</p>
<ul>
<li><strong>It's ugly</strong></li>
</ul>
<p>And finally the real reason, the one we feel deep-down in our bones: the old code <em>looks</em> bad - it's flaky, it doesn't have any test coverage, the relationship between the parts looks crazy. When you read it, you sometimes want to laugh out loud - it's a big hot mess. There is a strong temptation to start again from scratch out of an aesthetic instinct for perfection.</p>
<h2>Why Keep Code?</h2>
<ul>
<li><strong>Commercial concerns</strong></li>
</ul>
<p>Joel Spolsky of Joel on Software fame has called rewriting source code from scratch <a href="https://www.joelonsoftware.com/2000/04/06/things-you-should-never-do-part-i/">"the single worst strategic mistake that any software company can make"</a>. Spolsky uses the example of Netscape 6.0 to demonstrate why as a corporate strategy, complete re-writes are almost never a good idea. They tend take longer than anticipated (because people are bad at working out how long it will take), and burn time and resources for no appreciable reward until the very end when the new code is ready - by which time, a competitor has probably caught up to you and eaten your lunch. There are almost no commercial examples where a complete re-write turned out to be a good idea. Sometimes as a programmer you need to 'zoom out' and take a more general view of your company's trajectory, and how time spent on re-writes and refactoring fits into it.</p>
<p>Of course, companies also need to take care not to pressure their programmers into behaving in this negative way. If you're rewarded based on new code output or some other metric that doesn't take into account the increase in understanding from reading others' code, it can be hard to fight the instinct to re-write code more than you should. Managers should try to grow their programmers' understanding of the existing codebase and allow time for them to read code as an activity of value in itself. Taking a leaf from <a href="https://raspberrycheesecake.github.io/peopleware.html">Peopleware</a> and accepting that 'human resources' are individuals who are not interchangeable and who contain valuable institutional knowledge should help here.</p>
<ul>
<li><strong>Code learns</strong></li>
</ul>
<p>As Joel also points out, 'hairy' legacy code functions embody years of bug fixes and reactions to specific situations. But not only that. Legacy code often embodies knowledge about a process, knowledge that is very difficult to recapture. The writers might have left the company, or been run over by a bus! Re-writing doesn't recapture all the nuances of the understanding embedded in the old codebase, and can leave important institutional knowledge behind. This knowledge might not be documented in any other way. I've lost count of the times an old comment or variable name has led me in a valuable direction to a deeper understanding of changes to our hardware, for example. This sort of thing would be lost, throwing the baby out with the bathwater, if the code had been completely re-written by someone who didn't keep the old comments they didn't understand.</p>
<ul>
<li><strong>Refactoring can give the best of both worlds</strong></li>
</ul>
<p>It can be difficult to get the balance right between too many re-writes on the one hand and leaving flawed, buggy existing code alone on the other. My own experience at <a href="www.cmedrobotics.com">CMR</a> has definitely taught me the value of keeping and improving on an existing codebase. Through resisting the temptation to stop and completely re-write parts of the Python codebase, we have come further and faster than we could have done otherwise, and managed to still continue improving as we go along. Refactoring is sometimes used as a synonymn for re-writing, but it's actually a different approach. Refactoring values existing code and makes the base assumption that it is valuable and should be preserved. By adding tests, old code can be refactored with the confidence that bugs won't be introduced. Tweaking variable names and adding explanatory comments is generally harmless and can be very valuable. In this way, incrementally refactoring old code can give excellent results, in less time than a complete rewrite. <a href="https://pragprog.com/book/atcrime/your-code-as-a-crime-scene">Your Code as a Crime Scene</a> explains how making improvements to the code can and should be done in a targeted way, rather than by hunches. By focusing on areas with the highest cyclomatic complexity and churn, we direct our energy where it produces the most valuable results. This means the majority of the existing legacy code can be left alone, while still significantly improving the functionality and test coverage.</p>
<h2>A Book Recommendation</h2>
<p>In the course of my research for this post I came across <a href="https://www.spinellis.gr/codereading/">Code Reading</a>, a book about precisely the discipline reading legacy code in order to maintain it and add features. This looks to be a great primer on a neglected skill for programmers. I plan to read it myself and leave a review here in the New Year.</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="../legacy-code.html">posted at 00:00</a>
                    &nbsp;&middot;
                    &nbsp;<a href="../tag/legacy-code.html" class="tags">legacy code</a>
                    &nbsp;<a href="../tag/cruft.html" class="tags">cruft</a>
                    &nbsp;<a href="../tag/refactoring.html" class="tags">refactoring</a>
                </div>
            </article>

                <div class="clear"></div>
                <div class="pages">


                    <a href="../author/hannah-hazi2.html" class="next_page">Next&nbsp;&rarr;</a>

                    <span>Page 1 of 2</span>
                </div>

            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/jody-frankowski/blue-penguin">Blue Penguin</a> Theme
                &middot;
                Proudly Powered by <a href="http://getpelican.com">Pelican</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
</body>
</html>